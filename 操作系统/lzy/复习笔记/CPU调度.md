### CPU调度
#### 调度的分类
1. 高级调度：将外存作业调入内存，分配内存和外设资源，创建PCB，然后把数据调入内存，包含整个从外存到内存再被cpu调度的过程
2. 中级调度（交换调度）：把进程从外存调入内存
3. 低级调度（进程调度或线程调度）：从就绪队列中选择一个调入CPU

#### 调度的时机
**非抢占式调度**：进程中止、进程从运行到等待（等待IO）
**抢占式调度**：进程从运行到就绪（时间片用光或者有更高优先级的进程）、进程从等待到就绪
#### 调度的准则
按照以下几条来定制调度的准则
- **CPU利用率高**
- **吞吐量大**：单位时间内完成的任务数量大
- **响应时间短**：从用户输入到产生反应的时间
- **周转时间**：从任务开始到结束的时间=等待时间+运行时间<=>等待时间短（在就绪队列的时间短）

#### 调度算法（平均等待时间出计算）
- **FCFS**：先来先服务，**不利于短作业**
- **SJF**：短作业优先，优先调度下次CPU时间最短的，**下一CPU区间大小的预测较难**
- **SRTF**:抢占式调度，最短剩余时间优先
- **优先级调度**，**低优先级的任务可能永远得不到时间运行**
- **RR**，分时算法，每个进程分配固定的时间片，按照FCFS的顺序执行，**任何进程的等待时间不会超过（n-1）q,但上下文切换次数较多，开销较大**，**时间片一般为10-100ms**
- **多级队列**，多个就绪队列，不同的队列采用不同的调度方法
- **多级反馈队列**，任务可以在多级队列之间移动，实现aging
- **高响应比优先**：响应比=周转时间/运行时间	

#### 一些概念
- **多处理器调度**：非对称多处理器、对称多处理器（大概就是cs和p2p吧）
- **处理器亲和性**：线程尽量长时间运行在指定的CPU上
- **负载平衡**：将负载平均分配在所有cpu上